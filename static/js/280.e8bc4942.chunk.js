"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[280],{2280:function(e,s,t){t.r(s),t.d(s,{default:function(){return A}});var i=t(2791),n=t(9434),l=n.v9,r=function(){return(0,n.I0)()},c=t(184);var o=function(){return l((function(e){var s;return null===(s=e.allUsers.currentUser)||void 0===s?void 0:s.following})),(0,i.useEffect)((function(){}),[]),(0,c.jsx)("div",{className:"flex text-white",children:"I am Timeline"})},a=t(3433),d=t(9439),u=t(7425),x=t(9126),f=t(5585),m=t(6856),h=t(7689),v=t(1087),j=t(8820),N=t(3853),p=t(4373),g=t(8617),w=t(1578),b=t(3527),y=t(7655),U=t(9460),k=t(276),S="transition ease-in-out delay-50 group-hover:-translate-y-0.5 group-hover:scale-105 duration-200";var I=function(){var e=(0,i.useState)(!1),s=(0,d.Z)(e,2),t=s[0],n=s[1],r=l((function(e){return e.allUsers.currentUser})),o=(0,h.s0)(),I=(0,i.useState)([]),C=(0,d.Z)(I,2),z=C[0],F=C[1],Z=(0,i.useState)(""),B=(0,d.Z)(Z,2),E=B[0],H=B[1],L=(0,k.iH)(y.tO,"menubar/"),J=(0,k.iH)(y.tO,"avatars/");return(0,i.useEffect)((function(){(0,k.aF)(L).then((function(e){return e.items.forEach((function(e){(0,k.Jt)(e).then((function(e){F((function(s){return[].concat((0,a.Z)(s),[e])}))}))}))}))}),[]),(0,i.useEffect)((function(){void 0!==(null===r||void 0===r?void 0:r.username)&&(0,k.aF)(J).then((function(e){e.items.filter((function(e){e.name.includes(r.username)&&(0,k.Jt)(e).then((function(e){return H(e)}))}))}))}),[]),(0,c.jsxs)("div",{className:"relative flex flex-col justify-between mx-auto text-white pr-1 pb-5 text-lg h-screen items-start",children:[(0,c.jsx)("div",{className:"md:block hidden pt-10 h-20 w-28 pb-5 mb-5 pl-3 shrink-0 relative",children:(0,c.jsx)("img",{src:z.find((function(e){return e.includes("instagramWhiteLogo")})),alt:"logo",color:"white",className:"text-white h-8 w-24"})}),(0,c.jsx)("div",{className:"block md:hidden pt-10 h-20 w-28 pb-5 mb-5 pl-4 shrink-0 relative",children:(0,c.jsx)(x.Vs6,{size:28})}),(0,c.jsxs)("div",{className:"relative flex flex-col grow ",children:[(0,c.jsx)(v.rU,{to:b.h1,className:"group hover:rounded-2xl hover:bg-hoverBackground hover:pr-4 p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2 opacity-100",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(m.SHD,{size:32,className:"hover:fill-red"})}),(0,c.jsx)("div",{className:"hidden md:block",children:"Home"})]})}),(0,c.jsx)(v.rU,{to:b.h1,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(u.Qcu,{size:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Search"})]})}),(0,c.jsx)(v.rU,{to:b.ih,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(m.Vvc,{size:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Explore"})]})}),(0,c.jsx)(v.rU,{to:b.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)("img",{src:z.find((function(e){return e.includes("reelsWhite")})),height:28,width:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Reels"})]})}),(0,c.jsx)(v.rU,{to:b.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(u.HcH,{size:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Messages"})]})}),(0,c.jsx)(v.rU,{to:b.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(j.lo,{size:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Notifications"})]})}),(0,c.jsx)(v.rU,{to:b.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2 ",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(N.xVi,{size:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Create"})]})}),(0,c.jsx)(v.rU,{to:b.ih,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2 ",children:[(0,c.jsx)("img",{src:E,alt:"profile picture",className:"w-7 h-7 rounded-full ".concat(S)}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Profile"})]})})]}),(0,c.jsxs)("div",{className:"flex relative",children:[(0,c.jsx)("button",{onClick:function(e){e.preventDefault(),n((function(e){return!e}))},className:"group sticky hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[(0,c.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,c.jsx)(j.qTj,{size:28})}),(0,c.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"More"})]})}),t?(0,c.jsx)("div",{className:"absolute bottom-16",children:(0,c.jsxs)("div",{className:"absolute w-60 z-10 bottom-0 opacity-100 flex flex-col text-white bg-seperator rounded-md text-sm font-semibold space-y-4 py-2",children:[(0,c.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,c.jsx)("div",{className:"",children:"Settings"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(p.Fnt,{size:28})})]}),(0,c.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,c.jsx)("div",{className:"",children:"Your Activity"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(f.Pw$,{size:28})})]}),(0,c.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,c.jsx)("div",{className:"",children:"Saved"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(m.nG_,{size:28})})]}),(0,c.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,c.jsx)("div",{className:"",children:"Switch appearance"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(g.Fxr,{size:28})})]}),(0,c.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,c.jsx)("div",{className:"",children:"Report a problem"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(w.dhr,{size:28})})]}),(0,c.jsx)("div",{className:"flex flex-row justify-between items-center px-4",children:(0,c.jsx)("div",{className:"",children:"Switch accounts"})}),(0,c.jsx)("div",{className:"flex flex-row justify-between items-center px-4",children:(0,c.jsx)("div",{className:"",children:(0,c.jsx)("button",{onClick:function(){(0,U.w7)(y.I8).then((function(){return o("".concat(b.ym))})).catch((function(e){return console.log("error",e)}))},children:"Log out"})})})]})}):""]})]})},C=t(5880);var z=function(){var e=l((function(e){return e.allUsers.currentUser})),s=(0,i.useState)(""),t=(0,d.Z)(s,2),n=t[0],r=t[1],o=(0,i.useState)(!1),a=(0,d.Z)(o,2),x=a[0],f=a[1],m=(0,k.iH)(y.tO,"avatars/");return(0,i.useEffect)((function(){void 0!==(null===e||void 0===e?void 0:e.username)&&(0,k.aF)(m).then((function(s){s.items.filter((function(s){s.name.includes(e.username)&&(0,k.Jt)(s).then((function(e){return r(e)}))}))}))}),[]),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex flex-row items-center justify-between gap-20 text-white mb-4",children:[(0,c.jsx)(v.rU,{to:"/p/".concat(null===e||void 0===e?void 0:e.username),className:"",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,c.jsx)("img",{src:n,alt:"profile picture",className:" h-14 w-14 rounded-full"}),(0,c.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,c.jsx)("p",{className:"text-sm font-bold",children:null===e||void 0===e?void 0:e.username}),(0,c.jsx)("p",{className:"text-sm",children:null===e||void 0===e?void 0:e.fullName})]})]})}),(0,c.jsx)("div",{className:"text-xs text-signUpColor",children:(0,c.jsx)("button",{type:"button",onClick:function(){return f(!0)},children:"Switch"})})]}),x?(0,c.jsx)("div",{className:"absolute flex flex-col top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 justify-center items-center h-fit w-full max-w-sm rounded-md bg-seperator",children:(0,c.jsxs)("div",{className:"relative w-full",children:[(0,c.jsxs)("div",{className:"flex flex-col divide-y divide-slate-700 divide-solid",children:[(0,c.jsxs)("div",{className:" flex flex-row items-center h-full w-full py-2",children:[(0,c.jsx)("div",{className:" inline-block text-white font-semibold w-full text-center grow-1",children:(0,c.jsx)("h1",{children:"Switch accounts"})}),(0,c.jsx)("div",{className:"relative flex flex-col h-full justify-center items-center basis-11 float-right",children:(0,c.jsx)("button",{className:"relative pr-4 flex flex-col shrink-0 justify-start grow-0",onClick:function(){return f(!1)},children:(0,c.jsx)(C.Fk5,{color:"white",size:24})})})]}),(0,c.jsxs)("div",{className:"flex flex-row items-center justify-between text-white px-4",children:[(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)(v.rU,{to:"/p/".concat(null===e||void 0===e?void 0:e.username),className:"",children:(0,c.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,c.jsx)("img",{src:n,alt:"profile picture",className:" h-12 w-12 rounded-full"}),(0,c.jsx)("div",{className:"flex flex-col justify-center",children:(0,c.jsx)("p",{className:"text-sm font-bold",children:null===e||void 0===e?void 0:e.username})})]})})}),(0,c.jsx)("div",{className:"text-xs",children:(0,c.jsx)(u.vUq,{size:28,color:"#0095F6"})})]})]}),(0,c.jsx)("div",{className:"flex flex-row items-center justify-between mb-28"}),(0,c.jsx)(v.rU,{to:b.ym,className:"flex text-signUpColor text-sm font-medium justify-center items-center pb-4",children:(0,c.jsx)("div",{children:"Log In to an Existing Account"})})]})}):""]})},F=t(4443),Z=t(4931),B=t.n(Z),E=t(9615);var H=function(){var e=(0,i.useState)(""),s=(0,d.Z)(e,2),t=s[0],n=s[1],o=(0,i.useState)([]),u=(0,d.Z)(o,2),x=u[0],f=u[1],m=(0,i.useState)([]),h=(0,d.Z)(m,2),v=h[0],j=h[1],N=l((function(e){return e.allUsers.suggestedUsers})),p=l((function(e){return e.allUsers.currentUser})),g=l((function(e){return e.allUsers.users})),w=l((function(e){return e.updateAllUsers.loading})),b=r();return(0,i.useEffect)((function(){void 0!==N&&N.map((function(e){var s;if(void 0===(null===g||void 0===g||null===(s=g.find((function(s){return s.username==e.suggestedUser})))||void 0===s?void 0:s.imageURL)){var t=(0,k.iH)(y.tO,"avatars/".concat(e.suggestedUser,".jpg"));(0,k.Jt)(t).then((function(s){b((0,E.XI)({suggestedUser:e.suggestedUser,url:s}))}))}}))}),[]),(0,c.jsx)("div",{className:"",children:(0,c.jsxs)("div",{className:"flex flex-col justify-center text-white text-sm",children:[(0,c.jsxs)("div",{className:"flex flex-row justify-between font-semibold mb-4",children:[(0,c.jsx)("p",{className:"text-activeBorderForInput",children:"Suggestions for you"}),(0,c.jsx)("p",{className:"text-xs flex justify-center items-center",children:"See all"})]}),void 0!==N?N.map((function(e,s){var i;return(0,c.jsxs)("div",{className:"flex flex-row items-center justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex flex-row space-x-4 justify-center items-center",children:[(0,c.jsx)("div",{className:"",children:(0,c.jsx)("img",{src:null===g||void 0===g||null===(i=g.find((function(s){return s.username===e.suggestedUser})))||void 0===i?void 0:i.imageURL,alt:"profile picture",className:"w-10 h-10 rounded-full"})}),(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)("p",{className:"font-semibold",children:e.suggestedUser}),(0,c.jsxs)("div",{className:"flex flex-row text-xs",children:["followed by\xa0",e.mutualFriend.map((function(s,t){return(0,c.jsx)("div",{className:"flex flex-row",children:t<1?1==e.mutualFriend.length?s:(0,c.jsxs)("p",{children:[s,",\xa0"]}):1==t?s:(0,c.jsxs)("p",{children:["\xa0+\xa0",e.mutualFriend.length-t," more"]})},t)}))]})]})]}),(0,c.jsxs)("div",{className:"flex text-xs",children:[w?(0,c.jsx)(B(),{color:"white",height:2,width:1}):x.includes(e.suggestedUser)?(0,c.jsx)("div",{className:"text-white font-medium",children:(0,c.jsx)("button",{type:"button",className:"p-0 m-0",onClick:function(){var s;return j([].concat((0,a.Z)(v),[{user:e.suggestedUser,url:null===g||void 0===g||null===(s=g.find((function(s){return s.username===e.suggestedUser})))||void 0===s?void 0:s.imageURL}]))},children:"Following"})}):(0,c.jsx)("div",{className:" text-signUpColor",children:(0,c.jsx)("button",{type:"button",className:"p-0 m-0",onClick:function(){return function(e){var s=null===g||void 0===g?void 0:g.filter((function(s){return s.username==e})),t=null===s||void 0===s?void 0:s.find((function(e){return e.userId}));b((0,F.Q_)({currentUserId:null===p||void 0===p?void 0:p.userId,suggestedUserId:null===t||void 0===t?void 0:t.userId,operation:"add"})).then((function(){f([].concat((0,a.Z)(x),[e]))})).catch((function(e){return n(e)}))}(e.suggestedUser)},children:"Follow"})}),t||"",v.map((function(s){return s.user==e.suggestedUser?(0,c.jsx)("div",{className:"absolute top-60 bg-seperator rounded-lg text-sm w-1/5 h-fit ",children:(0,c.jsxs)("div",{className:"flex flex-col text-white divide-y divide-slate-700 divide-solid justify-center",children:[(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-2 pt-8 pb-4",children:[(0,c.jsx)("div",{className:"",children:(0,c.jsx)("img",{src:s.url,className:"w-16 h-16 rounded-full"})}),(0,c.jsxs)("div",{className:"text-xs",children:["Unfollow ",(0,c.jsxs)("span",{className:"",children:["@",s.user]})]})]}),(0,c.jsx)("div",{className:"flex justify-center items-center py-2",children:(0,c.jsx)("button",{className:"text-red-600 font-medium ",onClick:function(){return function(e){var s=null===g||void 0===g?void 0:g.filter((function(s){return s.username==e})),t=null===s||void 0===s?void 0:s.find((function(e){return e.userId}));b((0,F.Q_)({currentUserId:null===p||void 0===p?void 0:p.userId,suggestedUserId:null===t||void 0===t?void 0:t.userId,operation:"remove"})).then((function(){f(x.filter((function(s){return s!==e}))),j(v.filter((function(s){return s.user!==e})))})).catch((function(e){return n(e)}))}(s.user)},children:"Unfollow"})}),(0,c.jsx)("div",{className:"flex justify-center items-center py-2",children:(0,c.jsx)("button",{type:"button",onClick:function(){return j(v.filter((function(s){return s.user!==e.suggestedUser})))},children:"Cancel"})})]})},s.user):""}))]})]},s)})):""]})})};var L=function(){var e=l((function(e){return e.allUsers.currentUser})),s=l((function(e){return e.allUsers.users}));return(0,c.jsx)(c.Fragment,{children:null!==e&&void 0!==e&&e.username?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(z,{}),void 0!==s?(0,c.jsx)(H,{}):""]}):""})},J=t(690),O=t(3199);var R=function(){var e=(0,i.useContext)(O.S),s=e.user,t=e.setUser,n=(0,i.useContext)(J.f).firebase;return(0,i.useEffect)((function(){var e=y.I8.onAuthStateChanged((function(e){null!=e?(localStorage.setItem("authUser",JSON.stringify(e)),t(e)):(localStorage.removeItem("authUser"),t(void 0),console.log(s))}));return function(){return e()}}),[n]),{user:s}},_=t(8390);var A=function(){var e=r(),s=l((function(e){return e.allUsers.currentUser})),t=R().user;return(0,i.useEffect)((function(){void 0!==(null===t||void 0===t?void 0:t.uid)&&e((0,_.uh)(null===t||void 0===t?void 0:t.displayName))}),[t]),(0,c.jsx)("div",{className:" bg-black ",children:(0,c.jsxs)("div",{className:"flex flex-row h-screen w-screen",children:[(0,c.jsx)("div",{className:"border-r border-seperator px-3 pb-5 w-24 md:w-60 w-16.5 overflow-y-visible",children:null!==s&&void 0!==s&&s.username?(0,c.jsx)(I,{}):""}),(0,c.jsxs)("div",{className:"flex flex-row justify-around items-stretch space-x-4 pt-1 flex-nowrap h-screen max-w-5xl",children:[(0,c.jsx)("div",{className:"max-w-md",children:(0,c.jsx)(o,{})}),(0,c.jsx)("div",{className:"mt-4 pt-8",children:(0,c.jsx)(L,{})})]})]})})}}}]);
//# sourceMappingURL=280.e8bc4942.chunk.js.map