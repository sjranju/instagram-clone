"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[280],{2280:function(e,s,n){n.r(s),n.d(s,{default:function(){return A}});var t=n(2791),r=n(184);var i=function(){return(0,r.jsx)("div",{className:"flex text-white",children:"I am Timeline"})},l=n(3433),c=n(9439),o=n(7425),a=n(9126),d=n(5585),u=n(6856),x=n(7689),f=n(1087),h=n(8820),m=n(3853),v=n(4373),j=n(8617),N=n(1578),p=n(3527),g=n(7655),b=n(9460),w=n(276),y=n(9434),U=y.v9,k=function(){return(0,y.I0)()},S="transition ease-in-out delay-50 group-hover:-translate-y-0.5 group-hover:scale-105 duration-200";var I=function(){var e=(0,t.useState)(!1),s=(0,c.Z)(e,2),n=s[0],i=s[1],y=U((function(e){return e.allUsers.currentUser})),k=(0,x.s0)(),I=(0,t.useState)([]),C=(0,c.Z)(I,2),z=C[0],F=C[1],Z=(0,t.useState)(""),B=(0,c.Z)(Z,2),E=B[0],H=B[1],J=(0,w.iH)(g.tO,"menubar/"),O=(0,w.iH)(g.tO,"avatars/");return(0,t.useEffect)((function(){(0,w.aF)(J).then((function(e){return e.items.forEach((function(e){(0,w.Jt)(e).then((function(e){F((function(s){return[].concat((0,l.Z)(s),[e])}))}))}))}))}),[]),(0,t.useEffect)((function(){void 0!==(null===y||void 0===y?void 0:y.username)&&(0,w.aF)(O).then((function(e){e.items.filter((function(e){e.name.includes(y.username)&&(0,w.Jt)(e).then((function(e){return H(e)}))}))}))}),[]),(0,r.jsxs)("div",{className:"relative flex flex-col justify-between mx-auto text-white pr-1 pb-5 text-lg h-screen items-start",children:[(0,r.jsx)("div",{className:"md:block hidden pt-10 h-20 w-28 pb-5 mb-5 pl-3 shrink-0 relative",children:(0,r.jsx)("img",{src:z.find((function(e){return e.includes("instagramWhiteLogo")})),alt:"logo",color:"white",className:"text-white h-8 w-24"})}),(0,r.jsx)("div",{className:"block md:hidden pt-10 h-20 w-28 pb-5 mb-5 pl-4 shrink-0 relative",children:(0,r.jsx)(a.Vs6,{size:28})}),(0,r.jsxs)("div",{className:"relative flex flex-col grow ",children:[(0,r.jsx)(f.rU,{to:p.h1,className:"group hover:rounded-2xl hover:bg-hoverBackground hover:pr-4 p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2 opacity-100",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(u.SHD,{size:32,className:"hover:fill-red"})}),(0,r.jsx)("div",{className:"hidden md:block",children:"Home"})]})}),(0,r.jsx)(f.rU,{to:p.h1,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(o.Qcu,{size:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Search"})]})}),(0,r.jsx)(f.rU,{to:p.ih,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(u.Vvc,{size:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Explore"})]})}),(0,r.jsx)(f.rU,{to:p.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)("img",{src:z.find((function(e){return e.includes("reelsWhite")})),height:28,width:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Reels"})]})}),(0,r.jsx)(f.rU,{to:p.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(o.HcH,{size:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Messages"})]})}),(0,r.jsx)(f.rU,{to:p.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(h.lo,{size:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Notifications"})]})}),(0,r.jsx)(f.rU,{to:p.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2 ",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(m.xVi,{size:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Create"})]})}),(0,r.jsx)(f.rU,{to:p.ih,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2 ",children:[(0,r.jsx)("img",{src:E,alt:"profile picture",className:"w-7 h-7 rounded-full ".concat(S)}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Profile"})]})})]}),(0,r.jsxs)("div",{className:"flex relative",children:[(0,r.jsx)("button",{onClick:function(e){e.preventDefault(),i((function(e){return!e}))},className:"group sticky hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,r.jsx)(h.qTj,{size:28})}),(0,r.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"More"})]})}),n?(0,r.jsx)("div",{className:"absolute bottom-16",children:(0,r.jsxs)("div",{className:"absolute w-60 z-10 bottom-0 opacity-100 flex flex-col text-white bg-seperator rounded-md text-sm font-semibold space-y-4 py-2",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,r.jsx)("div",{className:"",children:"Settings"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(v.Fnt,{size:28})})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,r.jsx)("div",{className:"",children:"Your Activity"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(d.Pw$,{size:28})})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,r.jsx)("div",{className:"",children:"Saved"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(u.nG_,{size:28})})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,r.jsx)("div",{className:"",children:"Switch appearance"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(j.Fxr,{size:28})})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,r.jsx)("div",{className:"",children:"Report a problem"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(N.dhr,{size:28})})]}),(0,r.jsx)("div",{className:"flex flex-row justify-between items-center px-4",children:(0,r.jsx)("div",{className:"",children:"Switch accounts"})}),(0,r.jsx)("div",{className:"flex flex-row justify-between items-center px-4",children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)("button",{onClick:function(){(0,b.w7)(g.I8).then((function(){return k("".concat(p.ym))})).catch((function(e){return console.log("error",e)}))},children:"Log out"})})})]})}):""]})]})};var C=function(){var e=U((function(e){return e.allUsers.currentUser})),s=(0,t.useState)(""),n=(0,c.Z)(s,2),i=n[0],l=n[1],o=(0,w.iH)(g.tO,"avatars/");return(0,t.useEffect)((function(){void 0!==(null===e||void 0===e?void 0:e.username)&&(0,w.aF)(o).then((function(s){s.items.filter((function(s){s.name.includes(e.username)&&(0,w.Jt)(s).then((function(e){return l(e)}))}))}))}),[]),(0,r.jsx)("div",{children:(0,r.jsxs)(f.rU,{to:"/p/".concat(null===e||void 0===e?void 0:e.username),className:"flex flex-row items-center justify-between gap-20 text-white mb-4",children:[(0,r.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,r.jsx)("img",{src:i,alt:"profile picture",className:" h-14 w-14 rounded-full"}),(0,r.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,r.jsx)("p",{className:"text-sm font-bold",children:null===e||void 0===e?void 0:e.username}),(0,r.jsx)("p",{className:"text-sm",children:null===e||void 0===e?void 0:e.fullName})]})]}),(0,r.jsx)("div",{className:"text-xs text-signUpColor",children:(0,r.jsx)("button",{type:"button",children:"Switch"})})]})})},z=n(4443),F=n(4931),Z=n.n(F);var B=function(){var e=(0,t.useState)(""),s=(0,c.Z)(e,2),n=s[0],i=s[1],o=(0,t.useState)([]),a=(0,c.Z)(o,2),d=a[0],u=a[1],x=(0,t.useState)([]),f=(0,c.Z)(x,2),h=f[0],m=f[1],v=(0,t.useState)([]),j=(0,c.Z)(v,2),N=j[0],p=j[1],b=U((function(e){return e.allUsers.suggestedUsers}));console.log(b);var y=U((function(e){return e.allUsers.currentUser})),S=U((function(e){return e.allUsers.users})),I=U((function(e){return e.updateAllUsers.loading})),C=k(),F=(0,w.iH)(g.tO,"avatars/");return(0,t.useEffect)((function(){void 0!==b&&(0,w.aF)(F).then((function(e){e.items.filter((function(e){(0,w.Jt)(e).then((function(e){u((function(s){return[].concat((0,l.Z)(s),[e])}))}))}))}))}),[]),(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center text-white text-sm",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between font-semibold mb-4",children:[(0,r.jsx)("p",{className:"text-activeBorderForInput",children:"Suggestions for you"}),(0,r.jsx)("p",{className:"text-xs flex justify-center items-center",children:"See all"})]}),void 0!==b?b.map((function(e,s){return(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex flex-row space-x-4 justify-center items-center",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("img",{src:d.find((function(s){return s.includes(e.suggestedUser)})),alt:"profile picture",className:"w-10 h-10 rounded-full"})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("p",{className:"font-semibold",children:e.suggestedUser}),(0,r.jsxs)("div",{className:"flex flex-row text-xs",children:["followed by\xa0",e.mutualFriend.map((function(s,n){return(0,r.jsx)("div",{className:"flex flex-row",children:n<1?1==e.mutualFriend.length?s:(0,r.jsxs)("p",{children:[s,",\xa0"]}):1==n?s:(0,r.jsxs)("p",{children:["\xa0+\xa0",e.mutualFriend.length-n," more"]})},n)}))]})]})]}),(0,r.jsxs)("div",{className:"flex text-xs",children:[I?(0,r.jsx)(Z(),{color:"white",height:5,width:1}):h.includes(e.suggestedUser)?(0,r.jsx)("div",{className:"text-white font-medium",children:(0,r.jsx)("button",{type:"button",className:"p-0 m-0",onClick:function(){return p([].concat((0,l.Z)(N),[{user:e.suggestedUser,url:d.find((function(s){return s.includes(e.suggestedUser)}))}]))},children:"Following"})}):(0,r.jsx)("div",{className:" text-signUpColor",children:(0,r.jsx)("button",{type:"button",className:"p-0 m-0",onClick:function(){return function(e){var s=null===S||void 0===S?void 0:S.filter((function(s){return s.username==e})),n=null===s||void 0===s?void 0:s.find((function(e){return e.userId}));C((0,z.Q_)({currentUserId:null===y||void 0===y?void 0:y.userId,suggestedUserId:null===n||void 0===n?void 0:n.userId,operation:"add"})).then((function(){m([].concat((0,l.Z)(h),[e])),console.log(h)})).catch((function(e){return i(e)}))}(e.suggestedUser)},children:"Follow"})}),n||"",N.map((function(s){return s.user==e.suggestedUser?(0,r.jsx)("div",{className:"absolute top-60 bg-seperator rounded-lg text-sm w-1/5 h-fit ",children:(0,r.jsxs)("div",{className:"flex flex-col text-white divide-y divide-slate-700 divide-solid justify-center",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-2 pt-8 pb-4",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("img",{src:s.url,className:"w-16 h-16 rounded-full"})}),(0,r.jsxs)("div",{className:"text-xs",children:["Unfollow ",(0,r.jsxs)("span",{className:"",children:["@",s.user]})]})]}),(0,r.jsx)("div",{className:"flex justify-center items-center py-2",children:(0,r.jsx)("button",{className:"text-red-600 font-medium ",onClick:function(){return function(e){var s=null===S||void 0===S?void 0:S.filter((function(s){return s.username==e})),n=null===s||void 0===s?void 0:s.find((function(e){return e.userId}));C((0,z.Q_)({currentUserId:null===y||void 0===y?void 0:y.userId,suggestedUserId:null===n||void 0===n?void 0:n.userId,operation:"remove"})).then((function(){m(h.filter((function(s){return s!==e}))),p(N.filter((function(s){return s.user!==e}))),console.log(h)})).catch((function(e){return i(e)}))}(s.user)},children:"Unfollow"})}),(0,r.jsx)("div",{className:"flex justify-center items-center py-2",children:(0,r.jsx)("button",{type:"button",onClick:function(){return p(N.filter((function(s){return s.user!==e.suggestedUser})))},children:"Cancel"})})]})},s.user):""}))]})]},s)})):""]})})};var E=function(){var e=U((function(e){return e.allUsers.currentUser})),s=U((function(e){return e.allUsers.users}));return(0,r.jsx)(r.Fragment,{children:null!==e&&void 0!==e&&e.username?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{}),void 0!==s?(0,r.jsx)(B,{}):""]}):""})},H=n(690),J=n(3199);var O=function(){var e=(0,t.useContext)(J.S),s=e.user,n=e.setUser,r=(0,t.useContext)(H.f).firebase;return(0,t.useEffect)((function(){var e=g.I8.onAuthStateChanged((function(e){null!=e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(void 0),console.log(s))}));return function(){return e()}}),[r]),{user:s}},_=n(8390);var A=function(){var e=k(),s=U((function(e){return e.allUsers.currentUser})),n=O().user;return(0,t.useEffect)((function(){void 0!==(null===n||void 0===n?void 0:n.uid)&&e((0,_.uh)(null===n||void 0===n?void 0:n.displayName))}),[n]),(0,r.jsx)("div",{className:" bg-black ",children:(0,r.jsxs)("div",{className:"flex flex-row h-screen w-screen",children:[(0,r.jsx)("div",{className:"border-r border-seperator px-3 pb-5 w-24 md:w-60 w-16.5 overflow-y-visible",children:null!==s&&void 0!==s&&s.username?(0,r.jsx)(I,{}):""}),(0,r.jsxs)("div",{className:"flex flex-row justify-around items-stretch space-x-4 pt-1 flex-nowrap h-screen max-w-5xl",children:[(0,r.jsx)("div",{className:"max-w-md",children:(0,r.jsx)(i,{})}),(0,r.jsx)("div",{className:"mt-4 pt-8",children:(0,r.jsx)(E,{})})]})]})})}}}]);
//# sourceMappingURL=280.645077ab.chunk.js.map