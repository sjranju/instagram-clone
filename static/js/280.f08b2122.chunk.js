"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[280],{2280:function(e,s,n){n.r(s),n.d(s,{default:function(){return A}});var i=n(2791),l=n(9434),t=l.v9,r=function(){return(0,l.I0)()},c=n(9615),o=n(276),a=n(7655),d=n(1578),u=n(184);var x=function(){var e=r(),s=t((function(e){return e.userPosts.currentlyFollowingUserPost})),n=t((function(e){return e.allUsers.users})),l=t((function(e){return e.allUsers.currentUser}));return(0,i.useEffect)((function(){var s;null===l||void 0===l||null===(s=l.following)||void 0===s||s.map((function(s){var i=null===n||void 0===n?void 0:n.find((function(e){return e.userId==s}));if(void 0===(null===i||void 0===i?void 0:i.imageURL)){var l=(0,o.iH)(a.tO,"avatars/".concat(null===i||void 0===i?void 0:i.username,".jpg"));(0,o.Jt)(l).then((function(s){e((0,c.XI)({user:"".concat(null===i||void 0===i?void 0:i.username),url:s}))}))}}))}),[l]),(0,u.jsx)("div",{className:"text-white w-56 max-w-2xl",children:(0,u.jsx)("div",{className:"",children:(0,u.jsx)("div",{className:"flex flex-col space-y-8 justify-center",children:null===s||void 0===s?void 0:s.map((function(e){var s,i;return(0,u.jsx)("div",{className:"text-white text-md",children:(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsx)("img",{src:null===n||void 0===n||null===(s=n.find((function(s){return s.userId===e.userId})))||void 0===s?void 0:s.imageURL,alt:"",className:"w-8 h-8 rounded-full"})}),(0,u.jsx)("div",{className:"text-sm font-semibold",children:n?null===n||void 0===n||null===(i=n.find((function(s){return s.userId===e.userId})))||void 0===i?void 0:i.username:""})]}),(0,u.jsx)("div",{className:"justify-self-end",children:(0,u.jsx)(d.ZIz,{})})]})},e.userId)}))})})})},f=n(3433),m=n(9439),v=n(7425),h=n(9126),j=n(5585),N=n(6856),w=n(7689),g=n(1087),p=n(8820),b=n(3853),y=n(4373),U=n(8617),k=n(3527),I=n(9460),S="transition ease-in-out delay-50 group-hover:-translate-y-0.5 group-hover:scale-105 duration-200";var C=function(){var e=(0,i.useState)(!1),s=(0,m.Z)(e,2),n=s[0],l=s[1],r=t((function(e){return e.allUsers.currentUser})),c=(0,w.s0)(),x=(0,i.useState)([]),C=(0,m.Z)(x,2),z=C[0],F=C[1],Z=(0,i.useState)(""),E=(0,m.Z)(Z,2),B=E[0],H=E[1],L=(0,o.iH)(a.tO,"menubar/"),J=(0,o.iH)(a.tO,"avatars/");return(0,i.useEffect)((function(){(0,o.aF)(L).then((function(e){return e.items.forEach((function(e){(0,o.Jt)(e).then((function(e){F((function(s){return[].concat((0,f.Z)(s),[e])}))}))}))}))}),[]),(0,i.useEffect)((function(){void 0!==(null===r||void 0===r?void 0:r.username)&&(0,o.aF)(J).then((function(e){e.items.filter((function(e){e.name.includes(r.username)&&(0,o.Jt)(e).then((function(e){return H(e)}))}))}))}),[]),(0,u.jsxs)("div",{className:"relative flex flex-col justify-between mx-auto text-white pr-1 pb-5 text-lg h-screen items-start",children:[(0,u.jsx)("div",{className:"md:block hidden pt-10 h-20 w-28 pb-5 mb-5 pl-3 shrink-0 relative",children:(0,u.jsx)("img",{src:z.find((function(e){return e.includes("instagramWhiteLogo")})),alt:"logo",color:"white",className:"text-white h-8 w-24"})}),(0,u.jsx)("div",{className:"block md:hidden pt-10 h-20 w-28 pb-5 mb-5 pl-4 shrink-0 relative",children:(0,u.jsx)(h.Vs6,{size:28})}),(0,u.jsxs)("div",{className:"relative flex flex-col grow ",children:[(0,u.jsx)(g.rU,{to:k.h1,className:"group hover:rounded-2xl hover:bg-hoverBackground hover:pr-4 p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2 opacity-100",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(N.SHD,{size:32,className:"hover:fill-red"})}),(0,u.jsx)("div",{className:"hidden md:block",children:"Home"})]})}),(0,u.jsx)(g.rU,{to:k.h1,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(v.Qcu,{size:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Search"})]})}),(0,u.jsx)(g.rU,{to:k.ih,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(N.Vvc,{size:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Explore"})]})}),(0,u.jsx)(g.rU,{to:k.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)("img",{src:z.find((function(e){return e.includes("reelsWhite")})),height:28,width:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Reels"})]})}),(0,u.jsx)(g.rU,{to:k.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(v.HcH,{size:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Messages"})]})}),(0,u.jsx)(g.rU,{to:k.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(p.lo,{size:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Notifications"})]})}),(0,u.jsx)(g.rU,{to:k.ym,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2 ",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(b.xVi,{size:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Create"})]})}),(0,u.jsx)(g.rU,{to:k.ih,className:"group hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2 ",children:[(0,u.jsx)("img",{src:B,alt:"profile picture",className:"w-7 h-7 rounded-full ".concat(S)}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"Profile"})]})})]}),(0,u.jsxs)("div",{className:"flex relative",children:[(0,u.jsx)("button",{onClick:function(e){e.preventDefault(),l((function(e){return!e}))},className:"group sticky hover:rounded-2xl hover:bg-hoverBackground p-3 focus:font-semibold",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[(0,u.jsx)("div",{className:"flex justify-center items-center h-6 w-8 focus:bg-white ".concat(S),children:(0,u.jsx)(p.qTj,{size:28})}),(0,u.jsx)("div",{className:"acitve:font-bold hidden md:block",children:"More"})]})}),n?(0,u.jsx)("div",{className:"absolute bottom-16",children:(0,u.jsxs)("div",{className:"absolute w-60 z-10 bottom-0 opacity-100 flex flex-col text-white bg-seperator rounded-md text-sm font-semibold space-y-4 py-2",children:[(0,u.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,u.jsx)("div",{className:"",children:"Settings"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(y.Fnt,{size:28})})]}),(0,u.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,u.jsx)("div",{className:"",children:"Your Activity"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(j.Pw$,{size:28})})]}),(0,u.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,u.jsx)("div",{className:"",children:"Saved"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(N.nG_,{size:28})})]}),(0,u.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,u.jsx)("div",{className:"",children:"Switch appearance"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(U.Fxr,{size:28})})]}),(0,u.jsxs)("div",{className:"flex flex-row justify-between items-center px-4",children:[(0,u.jsx)("div",{className:"",children:"Report a problem"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(d.dhr,{size:28})})]}),(0,u.jsx)("div",{className:"flex flex-row justify-between items-center px-4",children:(0,u.jsx)("div",{className:"",children:"Switch accounts"})}),(0,u.jsx)("div",{className:"flex flex-row justify-between items-center px-4",children:(0,u.jsx)("div",{className:"",children:(0,u.jsx)("button",{onClick:function(){(0,I.w7)(a.I8).then((function(){return c("".concat(k.ym))})).catch((function(e){return console.log("error",e)}))},children:"Log out"})})})]})}):""]})]})},z=n(5880);var F=function(){var e=t((function(e){return e.allUsers.currentUser})),s=(0,i.useState)(""),n=(0,m.Z)(s,2),l=n[0],r=n[1],c=(0,i.useState)(!1),d=(0,m.Z)(c,2),x=d[0],f=d[1],h=(0,o.iH)(a.tO,"avatars/");return(0,i.useEffect)((function(){void 0!==(null===e||void 0===e?void 0:e.username)&&(0,o.aF)(h).then((function(s){s.items.filter((function(s){s.name.includes(e.username)&&(0,o.Jt)(s).then((function(e){return r(e)}))}))}))}),[]),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between gap-20 text-white mb-4",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsxs)(g.rU,{to:"/p/".concat(null===e||void 0===e?void 0:e.username),className:"flex flex-row justify-between gap-4",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsx)("img",{src:l,alt:"profile picture",className:" h-14 w-14 rounded-full"})}),(0,u.jsxs)("div",{className:"flex flex-col justify-center grow-1",children:[(0,u.jsx)("p",{className:"text-sm font-bold",children:null===e||void 0===e?void 0:e.username}),(0,u.jsx)("p",{className:"text-sm",children:null===e||void 0===e?void 0:e.fullName})]})]})}),(0,u.jsx)("div",{className:"text-xs text-signUpColor",children:(0,u.jsx)("button",{type:"button",onClick:function(){return f(!0)},children:"Switch"})})]}),x?(0,u.jsx)("div",{className:"absolute flex flex-col top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 justify-center items-center h-fit w-full max-w-sm rounded-md bg-seperator",children:(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsxs)("div",{className:"flex flex-col divide-y divide-slate-700 divide-solid",children:[(0,u.jsxs)("div",{className:" flex flex-row items-center h-full w-full py-2",children:[(0,u.jsx)("div",{className:" inline-block text-white font-semibold w-full text-center grow-1",children:(0,u.jsx)("h1",{children:"Switch accounts"})}),(0,u.jsx)("div",{className:"relative flex flex-col h-full justify-center items-center basis-11 float-right",children:(0,u.jsx)("button",{className:"relative pr-4 flex flex-col shrink-0 justify-start grow-0",onClick:function(){return f(!1)},children:(0,u.jsx)(z.Fk5,{color:"white",size:24})})})]}),(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between text-white px-4",children:[(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)(g.rU,{to:"/p/".concat(null===e||void 0===e?void 0:e.username),className:"",children:(0,u.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,u.jsx)("img",{src:l,alt:"profile picture",className:" h-12 w-12 rounded-full"}),(0,u.jsx)("div",{className:"flex flex-col justify-center",children:(0,u.jsx)("p",{className:"text-sm font-bold",children:null===e||void 0===e?void 0:e.username})})]})})}),(0,u.jsx)("div",{className:"text-xs",children:(0,u.jsx)(v.vUq,{size:28,color:"#0095F6"})})]})]}),(0,u.jsx)("div",{className:"flex flex-row items-center justify-between mb-28"}),(0,u.jsx)(g.rU,{to:k.ym,className:"flex text-signUpColor text-sm font-medium justify-center items-center pb-4",children:(0,u.jsx)("div",{children:"Log In to an Existing Account"})})]})}):""]})},Z=n(4443),E=n(4931),B=n.n(E);var H=function(){var e=(0,i.useState)(""),s=(0,m.Z)(e,2),n=s[0],l=s[1],d=(0,i.useState)([]),x=(0,m.Z)(d,2),v=x[0],h=x[1],j=(0,i.useState)([]),N=(0,m.Z)(j,2),w=N[0],g=N[1],p=t((function(e){return e.allUsers.suggestedUsers})),b=t((function(e){return e.allUsers.currentUser})),y=t((function(e){return e.allUsers.users})),U=t((function(e){return e.updateAllUsers.loading})),k=r();return(0,i.useEffect)((function(){void 0!==p&&p.map((function(e){var s;if(void 0===(null===y||void 0===y||null===(s=y.find((function(s){return s.username==e.suggestedUser})))||void 0===s?void 0:s.imageURL)){var n=(0,o.iH)(a.tO,"avatars/".concat(e.suggestedUser,".jpg"));(0,o.Jt)(n).then((function(s){k((0,c.XI)({user:e.suggestedUser,url:s}))}))}}))}),[]),(0,u.jsx)("div",{className:"max-w-xs w-full",children:(0,u.jsxs)("div",{className:"flex flex-col justify-center text-white text-sm",children:[(0,u.jsxs)("div",{className:"flex flex-row justify-between font-semibold mb-4",children:[(0,u.jsx)("p",{className:"text-activeBorderForInput",children:"Suggestions for you"}),(0,u.jsx)("p",{className:"text-xs flex justify-center items-center",children:"See all"})]}),void 0!==p?p.map((function(e,s){var i;return(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between mb-4",children:[(0,u.jsxs)("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsx)("img",{src:null===y||void 0===y||null===(i=y.find((function(s){return s.username===e.suggestedUser})))||void 0===i?void 0:i.imageURL,alt:"profile picture",className:"w-10 h-10 rounded-full"})}),(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("p",{className:"font-semibold",children:e.suggestedUser}),(0,u.jsxs)("div",{className:"flex flex-row text-xs",children:["followed by\xa0",e.mutualFriend.map((function(s,n){return(0,u.jsx)("div",{className:"flex flex-row",children:n<1?1==e.mutualFriend.length?s:(0,u.jsxs)("p",{children:[s,",\xa0"]}):1==n?s:(0,u.jsxs)("p",{children:["\xa0+\xa0",e.mutualFriend.length-n," more"]})},n)}))]})]})]}),(0,u.jsxs)("div",{className:"flex text-xs",children:[U?(0,u.jsx)(B(),{color:"white",height:2,width:1}):v.includes(e.suggestedUser)?(0,u.jsx)("div",{className:"text-white font-medium",children:(0,u.jsx)("button",{type:"button",className:"p-0 m-0",onClick:function(){var s;return g([].concat((0,f.Z)(w),[{user:e.suggestedUser,url:null===y||void 0===y||null===(s=y.find((function(s){return s.username===e.suggestedUser})))||void 0===s?void 0:s.imageURL}]))},children:"Following"})}):(0,u.jsx)("div",{className:" text-signUpColor",children:(0,u.jsx)("button",{type:"button",className:"p-0 m-0",onClick:function(){return function(e){var s=null===y||void 0===y?void 0:y.filter((function(s){return s.username==e})),n=null===s||void 0===s?void 0:s.find((function(e){return e.userId}));k((0,Z.Q_)({currentUserId:null===b||void 0===b?void 0:b.userId,suggestedUserId:null===n||void 0===n?void 0:n.userId,operation:"add"})).then((function(){h([].concat((0,f.Z)(v),[e]))})).catch((function(e){return l(e)}))}(e.suggestedUser)},children:"Follow"})}),n||"",w.map((function(s){return s.user==e.suggestedUser?(0,u.jsx)("div",{className:"absolute top-60 bg-seperator rounded-lg text-sm w-1/5 h-fit ",children:(0,u.jsxs)("div",{className:"flex flex-col text-white divide-y divide-slate-700 divide-solid justify-center",children:[(0,u.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-2 pt-8 pb-4",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsx)("img",{src:s.url,className:"w-16 h-16 rounded-full"})}),(0,u.jsxs)("div",{className:"text-xs",children:["Unfollow ",(0,u.jsxs)("span",{className:"",children:["@",s.user]})]})]}),(0,u.jsx)("div",{className:"flex justify-center items-center py-2",children:(0,u.jsx)("button",{className:"text-red-600 font-medium ",onClick:function(){return function(e){var s=null===y||void 0===y?void 0:y.filter((function(s){return s.username==e})),n=null===s||void 0===s?void 0:s.find((function(e){return e.userId}));k((0,Z.Q_)({currentUserId:null===b||void 0===b?void 0:b.userId,suggestedUserId:null===n||void 0===n?void 0:n.userId,operation:"remove"})).then((function(){h(v.filter((function(s){return s!==e}))),g(w.filter((function(s){return s.user!==e})))})).catch((function(e){return l(e)}))}(s.user)},children:"Unfollow"})}),(0,u.jsx)("div",{className:"flex justify-center items-center py-2",children:(0,u.jsx)("button",{type:"button",onClick:function(){return g(w.filter((function(s){return s.user!==e.suggestedUser})))},children:"Cancel"})})]})},s.user):""}))]})]},s)})):""]})})};var L=function(){var e=t((function(e){return e.allUsers.currentUser})),s=t((function(e){return e.allUsers.users}));return(0,u.jsx)(u.Fragment,{children:null!==e&&void 0!==e&&e.username?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(F,{}),void 0!==s?(0,u.jsx)(H,{}):""]}):""})},J=n(690),R=n(3199);var O=function(){var e=(0,i.useContext)(R.S),s=e.user,n=e.setUser,l=(0,i.useContext)(J.f).firebase;return(0,i.useEffect)((function(){var e=a.I8.onAuthStateChanged((function(e){null!=e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(void 0),console.log(s))}));return function(){return e()}}),[l]),{user:s}},P=n(8390),_=n(8957);var A=function(){var e=r(),s=t((function(e){return e.allUsers.currentUser})),n=(t((function(e){return e.userPosts.postData})),O().user);return(0,i.useEffect)((function(){void 0!==(null===n||void 0===n?void 0:n.uid)&&e((0,P.uh)(null===n||void 0===n?void 0:n.displayName))}),[n]),(0,i.useEffect)((function(){void 0!==(null===s||void 0===s?void 0:s.following)&&e((0,_.Jq)(s.following))}),[s]),(0,u.jsx)("div",{className:" bg-black ",children:(0,u.jsxs)("div",{className:"flex flex-row h-screen w-screen",children:[(0,u.jsx)("div",{className:"border-r border-seperator px-3 pb-5 w-24 md:w-60 w-16.5 overflow-y-visible",children:null!==s&&void 0!==s&&s.username?(0,u.jsx)(C,{}):""}),(0,u.jsxs)("div",{className:"flex flex-row justify-between items-stretch flex-nowrap max-w-xl w-full mt-4 mx-auto pt-8",children:[(0,u.jsx)("div",{className:"mr-16",children:(0,u.jsx)(x,{})}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(L,{})})]})]})})}}}]);
//# sourceMappingURL=280.f08b2122.chunk.js.map